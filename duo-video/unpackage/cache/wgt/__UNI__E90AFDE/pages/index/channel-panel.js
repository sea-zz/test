"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var k=Object.create;var g=Object.defineProperty,S=Object.defineProperties,P=Object.getOwnPropertyDescriptor,R=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,B=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var m=(e,n,l)=>n in e?g(e,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[n]=l,w=(e,n)=>{for(var l in n||(n={}))y.call(n,l)&&m(e,l,n[l]);if(x)for(var l of x(n))F.call(n,l)&&m(e,l,n[l]);return e},C=(e,n)=>S(e,R(n));var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var q=(e,n,l,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of H(n))!y.call(e,i)&&i!==l&&g(e,i,{get:()=>n[i],enumerable:!(a=P(n,i))||a.enumerable});return e};var D=(e,n,l)=>(l=e!=null?k(B(e)):{},q(n||!e||!e.__esModule?g(l,"default",{value:e,enumerable:!0}):l,e));var p=(e,n,l)=>new Promise((a,i)=>{var o=s=>{try{c(l.next(s))}catch(u){i(u)}},r=s=>{try{c(l.throw(s))}catch(u){i(u)}},c=s=>s.done?a(s.value):Promise.resolve(s.value).then(o,r);c((l=l.apply(e,n)).next())});var v=I((z,b)=>{b.exports=Vue});var t=D(v());function d(e,n,...l){uni.__log__?uni.__log__(e,n,...l):console[e].apply(console,[...l,n])}var W={"channel-panel":{"":{flex:1,position:"absolute",top:"10rpx",left:"10rpx",bottom:"10rpx",right:"10rpx",borderRadius:8,backgroundColor:"rgba(0,100,200,0.3)",backdropFilter:"blur(4px)",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.2)",overflow:"hidden"}},"channel-panel-container":{"":{flexDirection:"row"}},"category-list":{"":{width:"200rpx",borderRightWidth:1,backgroundColor:"rgba(0,80,160,0.4)",borderRightColor:"rgba(255,255,255,0.8)"}},"category-item":{"":{height:"60rpx",alignItems:"center",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"rgba(255,255,255,0.05)",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx"},".active":{backgroundColor:"rgba(255,255,255,0.2)"}},"category-item-text":{"":{color:"rgb(255,255,255)",fontSize:"24rpx",fontWeight:"500",cursor:"pointer"}},"channel-list":{"":{flex:1}},"channel-item":{"":{height:"60rpx",lineHeight:"60rpx",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",flexDirection:"row",alignItems:"center",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"rgba(255,255,255,0.1)"},".active":{backgroundColor:"rgba(255,255,255,0.3)"}},"channel-number":{"":{width:"40rpx",height:"40rpx",borderRadius:"20rpx",backgroundColor:"#FF7F00",justifyContent:"center",alignItems:"center",marginRight:"30rpx"}},"channel-number-text":{"":{color:"#FFFFFF"}},"channel-name-text":{"":{color:"#ffffff",fontSize:"22rpx",flex:1,fontWeight:"600",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"}},channel_item_info:{"":{marginLeft:"10rpx"}},kefu:{"":{height:"150rpx",display:"flex",flexDirection:"row",marginTop:"10rpx",marginBottom:"10rpx"}},wx:{"":{width:"150rpx",height:"150rpx"}},qq:{"":{width:"150rpx",height:"150rpx",marginLeft:"10rpx"}}},L=(e,n)=>{let l=e.__vccOpts||e;for(let[a,i]of n)l[a]=i;return l},_="https://site-tools.netlify.app/",T={data(){return{visible:!1,cateChannel:[],channels:[],activeCategory:"",currentChannelUrl:"",uuid:"",scrollViewHeight:"0rpx"}},computed:{filteredChannels(){return this.channels.find(e=>e.title===this.activeCategory).list},heightToRpx(){let e=uni.getSystemInfoSync();return{height:`${Math.floor(e.windowHeight*750/e.windowWidth)-20}rpx`}}},onLoad(){return p(this,null,function*(){yield this.loadChannelData(),uni.$on("showChannelPanel",this.handleShowPanel),uni.$on("hideChannelPanel",this.handleHidePanel),this.$nextTick(()=>{this.calculateScrollHeight()})})},onUnload(){uni.$off("showChannelPanel",this.handleShowPanel),uni.$off("hideChannelPanel",this.handleHidePanel)},methods:{calculateScrollHeight(){return new Promise(e=>{let n=uni.getSystemInfoSync(),l=Math.floor(n.windowHeight*750/n.windowWidth);this.scrollViewHeight=`${l-20}rpx`,e()})},loadChannelData(){return p(this,null,function*(){try{let e=yield uni.request({url:_+"assets/menu.json"});this.activeCategory=e.data[0].title,this.cateChannel=e.data;let n=e.data.map(a=>new Promise((i,o)=>{uni.request({url:_+`assets/${a.title}.json`,success:r=>i(r.data.list),fail:r=>o(r)})})),l=yield Promise.all(n);this.channels=e.data.map((a,i)=>C(w({},a),{list:l[i]})),this.channels.length>0&&this.channels[0].list.length>0&&(this.currentChannel=this.channels[0].list[0],this.currentChannelUrl=this.channels[0].list[0].url,uni.$emit("channelSelected",this.currentChannel),uni.$emit("hideLoading"))}catch(e){d("error","at pages/index/channel-panel.nvue:153","\u52A0\u8F7D\u9891\u9053\u6570\u636E\u5931\u8D25:",e)}})},onContainerClick(e){e.stopPropagation()},handleShowPanel(e){d("log","at pages/index/channel-panel.nvue:162","nav\u663E\u793A",e.uuid),this.visible=!0,this.uuid=e.uuid},handleHidePanel(e){d("log","at pages/index/channel-panel.nvue:167","nav\u4E0D\u5C55\u793A"),this.visible=!1},changeCategory(e){this.activeCategory=e},switchChannel(e){this.visible=!1,this.currentChannelUrl=e.url,uni.$emit("channelSelected",e)},getChannelNumber(e){return this.channels.findIndex(l=>l.url===e.url)+1}}};function V(e,n,l,a,i,o){return(0,t.openBlock)(),(0,t.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,t.createElementVNode)("view",{class:"channel-panel",onClick:n[1]||(n[1]=(...r)=>o.onContainerClick&&o.onContainerClick(...r))},[(0,t.createElementVNode)("view",{class:"channel-panel-container"},[(0,t.createElementVNode)("view",{class:"category-list",style:(0,t.normalizeStyle)({height:i.scrollViewHeight})},[(0,t.createElementVNode)("scroll-view",{class:"category-scroll",scrollY:"true"},[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(i.cateChannel,(r,c)=>((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:c,class:(0,t.normalizeClass)(["category-item",{active:i.activeCategory===r.title}]),onClick:s=>o.changeCategory(r.title)},[(0,t.createElementVNode)("u-text",{class:"category-item-text"},(0,t.toDisplayString)(r.title),1)],10,["onClick"]))),128)),(0,t.createElementVNode)("view",{key:"uuid",class:(0,t.normalizeClass)(["category-item",{active:i.activeCategory==="\u4E2A\u4EBA\u4FE1\u606F"}]),onClick:n[0]||(n[0]=r=>o.changeCategory("\u4E2A\u4EBA\u4FE1\u606F"))},[(0,t.createElementVNode)("u-text",{class:"category-item-text"},"\u4E2A\u4EBA\u4FE1\u606F")],2)])],4),(0,t.createElementVNode)("view",{class:"channel-list",style:(0,t.normalizeStyle)({height:i.scrollViewHeight})},[i.activeCategory==="\u4E2A\u4EBA\u4FE1\u606F"?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:(0,t.normalizeClass)({channel_item_info:i.activeCategory==="\u4E2A\u4EBA\u4FE1\u606F"})},[(0,t.createElementVNode)("u-text",{style:{color:"#fff","font-size":"20rpx"}},"uid: "+(0,t.toDisplayString)(i.uuid),1),(0,t.createElementVNode)("view",{class:"kefu"},[(0,t.createElementVNode)("u-image",{class:"wx",src:"https://site-tools.netlify.app/concat/wx.png"}),(0,t.createElementVNode)("u-image",{class:"qq",src:"https://site-tools.netlify.app/concat/qq.png"})]),(0,t.createElementVNode)("u-text",{style:{color:"#fff"},class:"info-uid"},"\u5C0A\u656C\u7684\u7528\u6237\uFF0C\u60A8\u7684\u4F53\u9A8C\u65F6\u95F4\u4E3A\u4E24\u5929\uFF0C\u5982\u60F3\u957F\u4E45\u4F7F\u7528\uFF0C\u626B\u7801\u8054\u7CFB\u652F\u6301\uFF01"),(0,t.createElementVNode)("u-text",{style:{color:"#fff"},class:"info-uid"},"\u8B66\u544A\uFF1A\u7CFB\u7EDF\u91CD\u7F6E\u3001\u5237\u673A\u3001\u5E94\u7528\u5378\u8F7D\u5747\u53EF\u81F4\u7528\u6237UID\u53D8\u5316\uFF0C\u5BFC\u81F4APP\u4E0D\u53EF\u7528\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01\uFF01\uFF01")],2)):((0,t.openBlock)(),(0,t.createElementBlock)("scroll-view",{key:1,class:"channel-scroll",scrollY:"true"},[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(o.filteredChannels,(r,c)=>((0,t.openBlock)(),(0,t.createElementBlock)("view",{class:(0,t.normalizeClass)(["channel-item",{active:i.currentChannelUrl===r.url}]),key:c,onClick:s=>o.switchChannel(r)},[(0,t.createElementVNode)("view",{class:"channel-number"},[(0,t.createElementVNode)("u-text",{class:"channel-number-text"},(0,t.toDisplayString)(c+1),1)]),(0,t.createElementVNode)("view",{class:"channel-name"},[(0,t.createElementVNode)("u-text",{class:"channel-name-text"},(0,t.toDisplayString)(r.tvg_name||r.tvg_id||r.group_title),1)])],10,["onClick"]))),128))]))],4)])])])}var h=L(T,[["render",V],["styles",[W]]]);var f=plus.webview.currentWebview();if(f){let e=parseInt(f.id),n="pages/index/channel-panel",l={};try{l=JSON.parse(f.__query__)}catch(i){}h.mpType="page";let a=Vue.createPageApp(h,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:n,__pageQuery:l});a.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...h.styles||[]])),a.mount("#root")}})();
